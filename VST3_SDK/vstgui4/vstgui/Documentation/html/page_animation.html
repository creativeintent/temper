<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>VSTGUI: Animations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxydocu.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">VSTGUI
   &#160;<span id="projectnumber">4.3</span>
   </div>
   <div id="projectbrief">Graphical User Interface Framework not only for VST plugins</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_animation.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Animations </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="namespace_v_s_t_g_u_i.html">VSTGUI</a> version 4 adds simple to use view animation support.</p>
<p>The source can be found under /lib/animation/</p>
<h1><a class="anchor" id="the_animator"></a>
The Animator</h1>
<p>Every <a class="el" href="class_v_s_t_g_u_i_1_1_c_frame.html#aa7609ca92096612f85c0fa58058bd2f8">CFrame </a> object can have one <a class="el" href="class_v_s_t_g_u_i_1_1_animation_1_1_animator.html">Animator </a> object which runs animations at 60 Hz.</p>
<p>The animator is responsible for running animations. You can add and remove animations. Animations are identified by a view and a name.</p>
<p>To add an animation you just call <a class="el" href="class_v_s_t_g_u_i_1_1_c_view.html#ad2a5962bd58b120ead1a75f7b4a7ca9a">CView::addAnimation (name, target, timing)</a>. The animation will start immediately and will automatically be removed if it has finished. If you want to stop it before it has finished you can use <a class="el" href="class_v_s_t_g_u_i_1_1_c_view.html#a35880645f06796dbb9dab26f1df5d209">CView::removeAnimation (name)</a>. You can also stop all animations for a view with <a class="el" href="class_v_s_t_g_u_i_1_1_c_view.html#a2e2b03fdb07587b7595e7e9343312309">CView::removeAllAnimations ()</a>.</p>
<p>The animator is the owner of the target and timing function objects and will destroy these objects when the animation has finished. This means that the animator will call delete on these objects or if they are inherited from CBaseObject it will call forget() on them.</p>
<h1><a class="anchor" id="the_animation"></a>
The Animation</h1>
<p>An animation is made up by an <a class="el" href="class_v_s_t_g_u_i_1_1_animation_1_1_i_animation_target.html">IAnimationTarget </a> and an <a class="el" href="class_v_s_t_g_u_i_1_1_animation_1_1_i_timing_function.html">ITimingFunction </a> object.</p>
<h2><a class="anchor" id="animation_target"></a>
The Animation Target</h2>
<p>The animation target is responsible for changing the view from one state to another state.</p>
<p>The animation target interface consists of 3 methods:</p><ul>
<li><a class="el" href="class_v_s_t_g_u_i_1_1_animation_1_1_i_animation_target.html#a6d7cfb190ce3bcfcdb0787c676a7aba1">animationStart (view, name) </a></li>
<li><a class="el" href="class_v_s_t_g_u_i_1_1_animation_1_1_i_animation_target.html#a23da353233eebc71189a2e296b71efb0">animationTick (view, name, pos) </a></li>
<li><a class="el" href="class_v_s_t_g_u_i_1_1_animation_1_1_i_animation_target.html#a4dd2012172ed0741fbf3fd481ecaa157">animationFinished (view, name, wasCanceled) </a></li>
</ul>
<p>All these methods have the view and the animation name as arguments to identify the animation within the target. The animationTick method in addition has the normalized animation position as argument and the animationFinished method has a bool argument indicating if the animation was canceled.</p>
<p>see <a class="el" href="group___animation_targets.html">included animation target classes </a></p>
<h2><a class="anchor" id="animation_timing"></a>
The Animation Timing Function</h2>
<p>the animation timing function maps elapsed time to a normalized position.</p>
<p>see <a class="el" href="group___animation_timing_functions.html">included animation timing function classes </a></p>
<h1><a class="anchor" id="simple_example"></a>
Simple Usage Example</h1>
<p>In this example the custom view animates it's alpha value when the mouse moves inside or outside the view.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>VSTGUI::Animation;</div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>MyView : <span class="keyword">public</span> CView</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    MyView (<span class="keyword">const</span> CRect&amp; r) : CView (r) { setAlphaValue (0.5f); }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="namespace_v_s_t_g_u_i.html#ac49f4c9b44d5ce2870a1790690bc1092">CMouseEventResult</a> onMouseEntered (CPoint &amp;where, <span class="keyword">const</span> CButtonState&amp; buttons)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// this adds an animation which takes 200 ms to make a linear alpha fade from the current value to 1</span></div>
<div class="line">        addAnimation (<span class="stringliteral">&quot;AlphaValueAnimation&quot;</span>, <span class="keyword">new</span> <a class="code" href="class_v_s_t_g_u_i_1_1_animation_1_1_alpha_value_animation.html">AlphaValueAnimation</a> (1.f), <span class="keyword">new</span> <a class="code" href="class_v_s_t_g_u_i_1_1_animation_1_1_linear_timing_function.html">LinearTimingFunction</a> (200));</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespace_v_s_t_g_u_i.html#ac49f4c9b44d5ce2870a1790690bc1092a8bb1ee91a3b1b6baa050d9634f4abcc0">kMouseEventHandled</a>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="namespace_v_s_t_g_u_i.html#ac49f4c9b44d5ce2870a1790690bc1092">CMouseEventResult</a> onMouseExited (CPoint &amp;where, <span class="keyword">const</span> CButtonState&amp; buttons)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// this adds an animation which takes 200 ms to make a linear alpha fade from the current value to 0.5</span></div>
<div class="line">        addAnimation (<span class="stringliteral">&quot;AlphaValueAnimation&quot;</span>, <span class="keyword">new</span> <a class="code" href="class_v_s_t_g_u_i_1_1_animation_1_1_alpha_value_animation.html">AlphaValueAnimation</a> (0.5f), <span class="keyword">new</span> <a class="code" href="class_v_s_t_g_u_i_1_1_animation_1_1_linear_timing_function.html">LinearTimingFunction</a> (200));</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespace_v_s_t_g_u_i.html#ac49f4c9b44d5ce2870a1790690bc1092a8bb1ee91a3b1b6baa050d9634f4abcc0">kMouseEventHandled</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> draw (CDrawContext* context)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// ... any drawing code here</span></div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jun 27 2016 16:32:12 for VSTGUI by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
